<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    .par {
        width: 300px;
        height: 300px;
        border: 1px solid red;
        position: absolute;
        top: 300px;
        left: 300px;
    }
    .head {
        width: 300px;
        height: 50px;
        line-height: 50px;
        border-bottom: 1px solid green;
    }
</style>
<body>

<div class="par">
    <div class="head">
        拖拽移动
    </div>
</div>
<script>
    let parEle = document.querySelector('.par');
    let headEle = document.querySelector('.head');
    headEle.onmousedown = function (e) {
        //1.获取鼠标位置 盒子偏移量计算出 鼠标在盒子中的位置
        let x = e.pageX;
        let y = e.pageY;

        let offX = parEle.offsetLeft;
        let offY = parEle.offsetTop;

        document.onmousemove = function (e2) {
            parEle.style.left = e2.pageX - (x - offX) + 'px';
            parEle.style.top = e2.pageY - (y - offY) + 'px';
        }

        headEle.onmouseup = function () {
            document.onmousemove = null;
        }
    }
</script>
</body>
</html>
